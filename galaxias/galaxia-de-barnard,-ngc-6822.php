<?php
session_start();

// 🚨 Bloqueo de agentes vacíos o sospechosos
$user_agent = $_SERVER['HTTP_USER_AGENT'] ?? '';
if (empty($user_agent) || preg_match('/(curl|wget|bot|spider|crawler|httpclient|python|java|libwww)/i', $user_agent)) {
    http_response_code(403);
    exit('Acceso no permitido');
}

// 🧠 Validación básica de IP
$ip = $_SERVER['REMOTE_ADDR'] ?? '0.0.0.0';
if (!filter_var($ip, FILTER_VALIDATE_IP)) {
    http_response_code(400);
    exit('IP inválida');
}

// 🚫 Filtrado de headers con patrones peligrosos
foreach (getallheaders() as $key => $value) {
    if (preg_match('/(base64|<script|data:|javascript:)/i', $value)) {
        http_response_code(403);
        exit('Header sospechoso');
    }
}

// 🧼 Rate limit por sesión
$now = time();
if (!isset($_SESSION['rate_limit'])) {
    $_SESSION['rate_limit'] = ['last' => $now, 'count' => 1];
} else {
    if ($now - $_SESSION['rate_limit']['last'] < 5) {
        $_SESSION['rate_limit']['count']++;
        if ($_SESSION['rate_limit']['count'] > 10) {
            http_response_code(429); // Too Many Requests
            exit('Demasiadas solicitudes. Intenta más tarde.');
        }
    } else {
        $_SESSION['rate_limit'] = ['last' => $now, 'count' => 1];
    }
}

// 👮 Verificación de acceso
if (!isset($_SESSION['role']) || $_SESSION['role'] !== 'admin') {
    header('Location: login.php');
    exit();
}

// 🔐 Encabezados de protección
header('X-Frame-Options: DENY');
header('X-Content-Type-Options: nosniff');
header('X-XSS-Protection: 1; mode=block');
header("Referrer-Policy: no-referrer");
header("Permissions-Policy: geolocation=(), microphone=(), camera=()");
header("Strict-Transport-Security: max-age=31536000; includeSubDomains; preload"); // Solo si usas HTTPS
?>
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>NGC 6822 - La Galaxia de Barnard</title>
    <link rel="stylesheet" href="../css/galaxiasinfo_style.css"> <!-- Enlace al archivo CSS -->
</head>
<body>
    <header>
        <h1>NGC 6822 - La Galaxia de Barnard</h1>
        <p>Descubre todo sobre NGC 6822, también conocida como la Galaxia de Barnard, una galaxia irregular que se encuentra relativamente cerca de la Vía Láctea.</p>
        <a href="../galaxias.php" class="boton-volver">Volver</a>
    </header>

    <section id="informacion">
        <h2>¿Qué es NGC 6822?</h2>
        <p>NGC 6822, conocida como la **Galaxia de Barnard**, es una galaxia irregular que se encuentra a unos 1.6 millones de años luz de distancia en la constelación de Sagitario. Fue descubierta por el astrónomo estadounidense Edward E. Barnard en 1884. A menudo se la considera una de las galaxias más cercanas a la Vía Láctea en términos de tipo de galaxia irregular.</p>
        <p>Esta galaxia se caracteriza por su forma irregular y su baja luminosidad. Aunque es pequeña comparada con otras galaxias, NGC 6822 es de gran interés para los astrónomos debido a su proximidad y sus características únicas, que ofrecen una visión de cómo se formaron algunas de las primeras galaxias en el universo.</p>
        <img src="../img/galaxias/NGC-6822.jpg" alt="Imagen de la Galaxia de Barnard (NGC 6822)">
        <div class="highlight">
            <p>NGC 6822 es una galaxia irregular que se encuentra relativamente cerca de nuestra galaxia, la Vía Láctea.</p>
        </div>

        <div class="columns">
            <div class="column">
                <h3>Composición de NGC 6822</h3>
                <p>La Galaxia de Barnard es una galaxia irregular, lo que significa que no tiene la simetría de las galaxias espirales o elípticas. NGC 6822 está compuesta principalmente por gas, polvo y estrellas, con una gran concentración de regiones de formación estelar.</p>
                <p>El núcleo de NGC 6822 está relativamente pobre en estrellas, y la galaxia presenta varias áreas de intensa formación estelar, especialmente en sus regiones más externas. Los astrónomos han observado grandes nubes de gas y polvo que se están comprimidas por la gravedad, lo que da lugar a la formación de nuevas estrellas.</p>
            </div>

            <div class="column">
                <h3>Estructura de NGC 6822</h3>
                <p>La estructura de NGC 6822 es diferente de las galaxias más organizadas como las espirales. Aunque tiene algunas regiones de estrellas agrupadas, la galaxia en general tiene una distribución irregular de gas y estrellas, lo que le da una apariencia difusa y sin una forma definida. La galaxia tiene varios brazos irregulares de formación estelar que se expanden desde su núcleo hacia sus regiones periféricas.</p>
                <ul>
                    <li><strong>El Núcleo:</strong> El núcleo de NGC 6822 es relativamente tenue, con una baja concentración de estrellas en comparación con otras galaxias. Sin embargo, aún alberga varias estrellas viejas.</li>
                    <li><strong>Regiones de Formación Estelar:</strong> Las regiones exteriores de la galaxia están repletas de áreas activas de formación estelar, con grandes nubes de gas que colapsan y forman nuevas estrellas.</li>
                    <li><strong>Gas y Polvo:</strong> NGC 6822 tiene grandes nubes de gas y polvo, lo que la convierte en una galaxia rica en material para la creación de nuevas estrellas.</li>
                </ul>
            </div>
        </div>

        <h2>Historia de NGC 6822</h2>
        <p>NGC 6822 fue descubierta por Edward Barnard en 1884 y fue una de las primeras galaxias irregulares observadas. A lo largo de los años, los astrónomos han utilizado su proximidad para estudiar cómo las galaxias irregulares se desarrollan y evolucionan, lo que proporciona información valiosa sobre las primeras etapas de la formación de galaxias en el universo.</p>
        <p>NGC 6822 es una galaxia enana, lo que significa que es más pequeña y menos luminosa que la Vía Láctea. Su tamaño es una de las razones por las que fue pasada por alto en los primeros estudios galácticos, pero hoy se reconoce como un importante objeto de estudio.</p>

        <div class="highlight">
            <p>NGC 6822 es una galaxia clave en el estudio de las galaxias irregulares debido a su proximidad y características únicas.</p>
        </div>

        <h2>Datos Curiosos de NGC 6822</h2>
        <p>Algunos datos interesantes sobre NGC 6822 incluyen:</p>
        <ul>
            <li>NGC 6822 tiene una población de estrellas jóvenes en su periferia, lo que indica que todavía está en una fase activa de formación estelar.</li>
            <li>La galaxia es parte del Grupo Local, lo que significa que está cerca de nuestra propia galaxia, la Vía Láctea.</li>
            <li>Su pequeño tamaño y su estructura irregular la hacen un buen objeto para estudiar la evolución de las galaxias enanas.</li>
            <li>NGC 6822 contiene algunas de las regiones de formación estelar más brillantes y activas de todas las galaxias irregulares.</li>
        </ul>

        <h2>El Futuro de NGC 6822</h2>
        <p>El futuro de NGC 6822 está relacionado con la continua formación de estrellas en sus regiones más externas. Como galaxia irregular, es probable que continúe evolucionando de manera caótica, sin la simetría típica de las galaxias espirales o elípticas.</p>
        <p>En el futuro, NGC 6822 podría seguir interactuando con otras galaxias cercanas y, debido a su proximidad, es posible que forme parte del Grupo Local más grande de galaxias. A medida que se observan más galaxias similares a NGC 6822, los astrónomos continúan aprendiendo más sobre cómo se desarrollan las galaxias irregulares y el papel que desempeñan en el universo más amplio.</p>

        <div class="highlight">
            <p>La Galaxia de Barnard es un ejemplo clave de las galaxias irregulares que todavía siguen formándose en el universo cercano.</p>
        </div>

    </section>

    <footer>
        <p>&copy; 2025 NGC 6822. Todos los derechos reservados. <br>
        Fuente de información: NASA, ESA, y otros estudios astronómicos.</p>
    </footer>
</body>
</html>
